--// HELL MODE FULL ENTITY ULTIMATE
--// by smile x tuffmu | ALL MERGED | DELTA FIX

--====================================================
-- SERVICES
--====================================================
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

--====================================================
-- BLOCK ALL OTHER MODES (HELL V2, BROKEN, ULTRA...)
--====================================================
pcall(function()
	for _,v in pairs(getgc(true)) do
		if typeof(v) == "function" and islclosure(v) then
			local info = debug.getinfo(v)
			if info.name and (
				info.name:lower():find("hell") or
				info.name:lower():find("broken") or
				info.name:lower():find("ultra") or
				info.name:lower():find("impossible")
			) then
				hookfunction(v,function() end)
			end
		end
	end
end)

--====================================================
-- UI
--====================================================
local gui = Instance.new("ScreenGui", PlayerGui)
gui.Name = "HellModeUI"
gui.ResetOnSpawn = false

-- CAPTION (DOORS STYLE)
local caption = Instance.new("TextLabel", gui)
caption.Size = UDim2.new(1,0,0,50)
caption.Position = UDim2.new(0,0,0.82,0)
caption.BackgroundTransparency = 1
caption.TextScaled = true
caption.Font = Enum.Font.GothamBold
caption.TextStrokeTransparency = 0.2
caption.TextColor3 = Color3.new(1,1,1)
caption.Text = "Hell Mode Activated"

TweenService:Create(caption,TweenInfo.new(3),{TextTransparency=1}):Play()
task.delay(3,function() caption:Destroy() end)

-- RAINBOW TEXT (SMOOTH)
local rainbow = Instance.new("TextLabel", gui)
rainbow.Size = UDim2.new(0,300,0,26)
rainbow.Position = UDim2.new(0,10,1,-36)
rainbow.BackgroundTransparency = 1
rainbow.Font = Enum.Font.Gotham
rainbow.TextSize = 14
rainbow.TextXAlignment = Left
rainbow.Text = "hell mode by smile x tuffmu!"

task.spawn(function()
	local h = 0
	while rainbow.Parent do
		h += 0.0015
		if h > 1 then h = 0 end
		rainbow.TextColor3 = Color3.fromHSV(h,1,1)
		RunService.RenderStepped:Wait()
	end
end)

--====================================================
-- SPRINT (BUILT-IN)
--====================================================
local stamina = 100
local sprinting = false

local function setupSprint(char)
	local hum = char:WaitForChild("Humanoid")

	UIS.InputBegan:Connect(function(i,gp)
		if gp then return end
		if i.KeyCode == Enum.KeyCode.LeftShift then
			sprinting = true
		end
	end)

	UIS.InputEnded:Connect(function(i)
		if i.KeyCode == Enum.KeyCode.LeftShift then
			sprinting = false
			hum.WalkSpeed = 16
		end
	end)

	RunService.RenderStepped:Connect(function()
		if sprinting and stamina > 0 then
			hum.WalkSpeed = 26
			stamina -= 0.6
		else
			hum.WalkSpeed = 16
			stamina = math.clamp(stamina + 0.4,0,100)
		end
	end)
end

if player.Character then setupSprint(player.Character) end
player.CharacterAdded:Connect(setupSprint)

--====================================================
-- GUIDING CANDLE
--====================================================
pcall(function()
	local light = Instance.new("PointLight")
	light.Brightness = 2
	light.Range = 18
	light.Color = Color3.fromRGB(255,230,150)

	RunService.RenderStepped:Connect(function()
		if player.Character and player.Character:FindFirstChild("Head") then
			light.Parent = player.Character.Head
		end
	end)
end)

--====================================================
-- ENTITY SPAWNER
--====================================================
local spawner = loadstring(game:HttpGet(
	"https://raw.githubusercontent.com/RegularVynixu/Utilities/main/Doors/Entity%20Spawner/V2/Source.lua"
))()

local LatestRoom = ReplicatedStorage.GameData.LatestRoom

--====================================================
-- ENTITY CREATOR
--====================================================
local function E(name,asset,speed)
	return spawner.Create({
		Entity = {
			Name = name,
			Asset = asset,
			HeightOffset = 0
		},
		Lights = {
			Flicker = {Enabled=true,Duration=1},
			Shatter=true,
			Repair=false
		},
		Movement = {
			Speed = speed,
			Delay = 0,
			Reversed = false
		},
		Damage = {
			Enabled = true,
			Range = 40,
			Amount = 125
		}
	})
end

--====================================================
-- ALL HELL ENTITIES (FULL)
--====================================================
local ENTITIES = {
	E("Rush","rbxassetid://11735672781",80),
	E("Ambush","rbxassetid://11735673964",90),
	E("Halt","rbxassetid://11735674829",60),
	E("Depth","rbxassetid://11735676045",70),
	E("Cease","rbxassetid://12262854624",60),
	E("Rebound","rbxassetid://11735677012",85),
	E("DeerGod","rbxassetid://11735678123",75),
	E("Ripper","rbxassetid://11735679241",95),
	E("A-60","rbxassetid://11735680452",100),
	E("A-120","rbxassetid://11735681634",110),
	E("350","rbxassetid://11735682941",85),
	E("Black","rbxassetid://11735684219",70),
	E("Trauma","rbxassetid://11735685588",65) -- ✅ TRAUMA
}

--====================================================
-- SPAWN LOGIC (YOUR RATE)
--====================================================
LatestRoom:GetPropertyChangedSignal("Value"):Connect(function()
	if LatestRoom.Value < 10 then return end

	local roll = math.random(1,1000)

	if roll == 1 then
		-- 0.1% ALL ENTITY
		for _,e in ipairs(ENTITIES) do
			e:Run()
		end

	elseif roll <= 30 then
		-- 3% spawn 2–3
		for i=1,math.random(2,3) do
			ENTITIES[math.random(#ENTITIES)]:Run()
		end

	else
		-- 100% spawn 1
		ENTITIES[math.random(#ENTITIES)]:Run()
	end
end)

print("Hell Mode Script Successfully Loaded by smile x tuffmu")
